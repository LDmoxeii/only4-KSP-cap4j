<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.only4.adapter.infra.mybatis.mapper.RoleMapper">

    <select id="existByName" resultType="java.lang.Long">
        SELECT COUNT(1)
        FROM role
        WHERE name = #{name}
    </select>
    <select id="getByName" resultType="com.only4.domain.aggregates.role.Role">
        SELECT id, name, description
        FROM role
        WHERE name = #{name}
    </select>
    <select id="getAll" resultType="com.only4.domain.aggregates.role.Role">
        SELECT id, name, description
        FROM role
    </select>
    <select id="getByCondition" resultType="com.only4.domain.aggregates.role.Role">
        SELECT id, name, description
        FROM role
        WHERE 1=1
        <if test="name != null">
            AND name = #{name}
        </if>
        <if test="description != null">
            AND description = #{description}
        </if>
    </select>
    <select id="getById" resultType="com.only4.domain.aggregates.role.Role">
        SELECT id, name, description
        FROM role
        WHERE id = #{id}
    </select>
</mapper>
